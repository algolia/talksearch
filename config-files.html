<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie-edge"><title>Config files</title><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The easiest way to add search to your conference videos."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@Algolia"><meta name="twitter:creator" content="@Algolia"><meta property="og:url" content="https://community.algolia.com/talksearch"><meta property="og:title" content="Config files"><meta property="og:description" content="The easiest way to add search to your conference videos."><meta property="og:image" content="https://community.algolia.com/talksearch/assets/og_image.png"><link rel="shortcut icon" href="./favicon.ico"><link href="https://fonts.googleapis.com/css?family=Hind:400,600|Poppins:700" rel="stylesheet"><link type="text/css" rel="stylesheet" href="./style.css"><link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"><body class="hind text-telluric"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N8JP8G" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header fixed pin-t w-100 h-3 z-5 bg-white-pure"><div class="max-w-xl m-auto h-100 flex flrnw"><div class="hidden sm_flex fln flcnw flc px-0x"><a class="cursor-pointer text-0" href="https://www.algolia.com/" target="_blank"><img class="h-1 sm_h-1x" src="assets/algolia-logo.svg" alt="Algolia"></a></div><div class="hidden sm_flex fln flrnw flc"><div class="w-1 h-1 sm_w-1x sm_h-1x text-telluric fill-current"><svg height="100%" width="100%" viewBox="0 0 18 35" xmlns="http://www.w3.org/2000/svg">
  <path d="M1.8537 34.7643l15.5597-17.268L1.8537 0H0l15.5597 17.4964L0 34.7644z" fill-rule="evenodd"></path>
</svg>
</div></div><div class="hidden lg_flex custom-community-link fln flcnw flc px-0x relative"><a class="cursor-pointer text-0" href="https://community.algolia.com/" target="_blank"><img class="h-1 sm_h-1x lg_h-2" src="assets/community-logo.svg" alt="Algolia Community"></a><div class="custom-community-projects hidden sm_block absolute z-5 pin-t mt-3 ml-3 border border-proton rounded-auto bg-white-pure shadow-1"><div class="flex flrw pt-0x"><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/docsearch/"><div class="fln bg-teal rounded-auto w-2x h-2x"><img class="w-100" src="assets/docsearch-icon.svg" alt="DocSearch"></div><div class="fla pl-1 text-solstice text-2 bold hover_text-nebula">DocSearch</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/jekyll-algolia/"><div class="fln bg-purple rounded-auto w-2x h-2x"><img class="w-100" src="assets/jekyll-icon.svg" alt="Jekyll"></div><div class="fla pl-1 text-solstice text-2 bold hover_text-nebula">Jekyll</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/instantsearch.js/"><div class="fln bg-yellow rounded-auto w-2x h-2x"><img class="w-100" src="assets/instantsearch-icon.svg" alt="InstantSearch"></div><div class="fla pl-1 text-solstice text-2 bold hover_text-nebula">InstantSearch</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/react-instantsearch/"><div class="fln bg-blue rounded-auto w-2x h-2x"><img class="w-100" src="assets/react-icon.svg" alt="React InstantSearch"></div><div class="fla pl-1 text-solstice text-2 bold hover_text-nebula">React InstantSearch</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline"><div class="fln bg-green rounded-auto w-2x h-2x" href="https://community.algolia.com/vue-instantsearch/"><img class="w-100" src="assets/vue-icon.svg" alt="Vue InstantSearch"></div><div class="fla pl-1 text-solstice text-2 bold hover_text-nebula">Vue InstantSearch</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/angular-instantsearch/"><div class="fln bg-red rounded-auto w-2x h-2x flex flrnw flc"><img class="w-80" src="assets/angular-icon.svg" alt="Angular InstantSearch"></div><div class="fla pl-1 text-solstice text-2 bold hover_text-nebula">Angular InstantSearch</div></a><a class="fla flex flrnw p-0x flc text-solstice bold bg-moon rounded-auto py-1" href="https://discourse.algolia.com/">Community forum</a></div></div></div><div class="hidden lg_flex fln flrnw flc"><div class="w-1 h-1 sm_w-1x sm_h-1x text-telluric fill-current"><svg height="100%" width="100%" viewBox="0 0 18 35" xmlns="http://www.w3.org/2000/svg">
  <path d="M1.8537 34.7643l15.5597-17.268L1.8537 0H0l15.5597 17.4964L0 34.7644z" fill-rule="evenodd"></path>
</svg>
</div></div><div class="flex fln flrnw flc pl-1 sm_pl-0"><a class="cursor-pointer uppercase tracking-poppins poppins text-solstice hover_text-nebula hover_no-underline" href="https://community.algolia.com/talksearch">TalkSearch</a></div><div class="flex fla md_hidden"></div><div class="hidden md_flex fla flrnw flrcv flrar ml-2"><div class="w-100 flrnw flex flrar"><div class="custom-search-wrapper fln h-60 w-50 border border-proton rounded-auto relative"><label class="absolute pin-left z-1 w-1 h-100 ml-05 text-solstice fill-current cursor-pointer" for="docsearch"><svg height="100%" viewBox="0 0 15 15" width="100%" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.052 10.88c-1.1.91-2.483 1.406-3.91 1.403C2.75 12.283 0 9.533 0 6.14 0 2.75 2.75 0 6.142 0c3.392 0 6.14 2.75 6.14 6.142 0 1.485-.526 2.847-1.403 3.91l3.95 3.95c.227.227.228.596-.002.826-.228.227-.597.228-.826 0l-3.95-3.95zm-3.91.234c2.745 0 4.972-2.227 4.972-4.972 0-2.747-2.227-4.972-4.972-4.972-2.747 0-4.972 2.225-4.972 4.972 0 2.745 2.225 4.972 4.972 4.972z" fill-rule="evenodd"></path>
</svg>
</label><input class="custom-search-input w-100 h-100 outline-none text-solstice pl-2 rounded-auto bg-moon focus_bg-transparent" id="docsearch" placeholder="Search the documentation..."></div></div></div><div class="flex fln flrnw flc px-2"><a class="cursor-pointer text-2 text-solstice hover_text-nebula hover_no-underline" href="./what-is-talksearch.html">Documentation</a></div><div class="flex fln flrnw flc pr-0x"><a class="w-1x h-1x text-solstice fill-current" href="https://github.com/algolia/talksearch" target="_blank"><svg viewBox="0 0 40 39" xmlns="http://www.w3.org/2000/svg">
  <path d="M19.998 0C8.955 0 0 8.954 0 20c0 8.837 5.73 16.333 13.678 18.977 1 .184 1.365-.433 1.365-.964 0-.475-.017-1.732-.027-3.4C9.453 35.82 8.28 31.93 8.28 31.93c-.91-2.31-2.222-2.925-2.222-2.925-1.816-1.24.137-1.215.137-1.215 2.008.14 3.064 2.06 3.064 2.06 1.783 3.057 4.68 2.174 5.82 1.662.18-1.29.698-2.173 1.27-2.673-4.442-.505-9.11-2.222-9.11-9.885 0-2.183.78-3.97 2.058-5.367-.206-.506-.893-2.54.196-5.293 0 0 1.68-.538 5.5 2.05A19.156 19.156 0 0 1 20 9.67c1.7.01 3.41.23 5.008.675 3.818-2.588 5.494-2.05 5.494-2.05 1.09 2.753.405 4.787.2 5.293 1.282 1.397 2.055 3.184 2.055 5.367 0 7.683-4.676 9.374-9.13 9.868.716.618 1.356 1.838 1.356 3.703 0 2.675-.025 4.832-.025 5.487 0 .536.36 1.158 1.376.963C34.274 36.326 40 28.836 40 20 40 8.955 31.045 0 19.998 0" />
</svg>
</a></div></div></div><div class="block mt-3"><div class="bgtb-white-moon pt-3x pb-3 poppins"><div class="max-w-lg m-auto text-center"><div class="text-6 lg_text-8 uppercase tracking-poppins text-solstice bold">Config files</div></div></div><div class="flex flrnw max-w-xl m-auto"><div class="fln w-30"><!-- Adding subsections from markdown--><div class="sticky pin-t top-3 h-100vh-3 pl-1 lg_pl-2 overflow-y-auto"><div class="category text-nebula poppins uppercase mt-1">Essentials</div><ul class="list-reset pt-05 pb-1 text-2"><li><a class="block py-0x text-solstice" href="what-is-talksearch.html">What is TalkSearch?</a></li></ul><div class="category text-nebula poppins uppercase mt-1">Back-end</div><ul class="list-reset pt-05 pb-1 text-2"><li><a class="block py-0x text-solstice" href="scraper.html">The scraper</a></li><li><a class="block py-0x text-nebula" href="config-files.html">Config files</a></li></ul><div class="category text-nebula poppins uppercase mt-1">Front-end</div><ul class="list-reset pt-05 pb-1 text-2"><li><a class="block py-0x text-solstice" href="talksearch-js.html">TalkSearch.js</a></li><li><a class="block py-0x text-solstice" href="instantsearch-js.html">InstantSearch.js</a></li><li><a class="block py-0x text-solstice" href="anatomy-of-a-record.html">Inside a record</a></li></ul></div></div><div class="documentation-content fla text-2 pb-2 pr-1 sm_px-2 md_px-3 overflow-hidden"><p>When you register to TalkSearch, we'll create a config file for your conference.
A typical config file will contain the list of <code>playlists</code> ids to index as well as
the <code>indexName</code> where data will be pushed.</p>
<p>TalkSearch config files are JavaScript modules, so they can also contain dynamic
methods applied at run time and can import their own dependencies.</p>
<p>A full example of a config can look like this:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">indexName</span>: <span class="hljs-string">'awesome_conf'</span>,
  <span class="hljs-attr">playlists</span>: [
    <span class="hljs-string">'PLMW8Xq7bXrG4zEMLdfZTpS9VCKjXeD--h'</span>, <span class="hljs-comment">// AwesomeConf 2018 London</span>
    <span class="hljs-string">'PLMW8Xq7bXrG6M2Nabwt3LuBxZyHVHRZhf'</span>, <span class="hljs-comment">// AwesomeConf 2017 Paris</span>
    <span class="hljs-string">'PLMW8Xq7bXrG4OC1CZW7m-davg4p4ZCBmZ'</span>, <span class="hljs-comment">// AwesomeConf 2016 Atlanta</span>
  ],
  <span class="hljs-attr">transformData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">record</span>) </span>{
    <span class="hljs-keyword">const</span> splitPlaylistName = record.playlist.name.split(<span class="hljs-string">' '</span>);
    record.conference.name = splitPlaylistName[<span class="hljs-number">0</span>];
    record.conference.year = splitPlaylistName[<span class="hljs-number">1</span>];
    record.conference.city = splitPlaylistName[<span class="hljs-number">2</span>];

    <span class="hljs-keyword">return</span> record;
  },
  <span class="hljs-attr">transformSettings</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">settings</span>) </span>{
    settings.attributesForFaceting.push(<span class="hljs-string">'conference.city'</span>);

    <span class="hljs-keyword">return</span> settings;
  },
  <span class="hljs-attr">blockList</span>: [
    <span class="hljs-string">'05ZvII57p_M'</span>
  ]
};
</code></pre>
<h2 id="indexname">indexName <a class="anchor" href="#indexname" aria-hidden="true"></a></h2>
<p>The <code>indexName</code> key contains the name of the index where the results will be
pushed.</p>
<p>Names should be unique across all configs, and are named the same way as the
config file.</p>
<h2 id="playlists">playlists <a class="anchor" href="#playlists" aria-hidden="true"></a></h2>
<p>The <code>playlists</code> key contains an array of all playlist ids to index. We suggest
adding comments after each playlist id to identify them.</p>
<p><em>Note that the scraper does not yet allow the indexing of channels or individual
videos.</em></p>
<h2 id="blocklist">blockList <a class="anchor" href="#blocklist" aria-hidden="true"></a></h2>
<p>The <code>blockList</code> key accepts an array of video ids that you'd like to exclude
from the indexing. This can be used for example to remove some teaser or test
videos from the final set.</p>
<p>Those videos won't even be crawled by the API. If you want finer grain on which
video to exclude based on more data than the <code>id</code>, check the <code>transformData</code>
method below.</p>
<h2 id="transformdata">transformData <a class="anchor" href="#transformdata" aria-hidden="true"></a></h2>
<p>If present, the <code>transformData</code> method will be called on each record, right
before pushing them to Algolia. It takes the raw record as input and expects the
modified record as output.</p>
<p>A typical use case for this method is to set the conference year or speakers
names by parsing the video title.</p>
<p>The method is called with a second argument, a <code>helper</code> object, containing
utility methods to help you in the most common parsing scenarios. See the
ConfigHelper documentation for more details.</p>
<h2 id="transformsettings">transformSettings <a class="anchor" href="#transformsettings" aria-hidden="true"></a></h2>
<p>The <code>transformSettings</code> method can be used to change the settings of your index
if you need more than the default settings.</p>
<p>A typical use case for this method would be to change the
<a href="https://www.algolia.com/doc/api-reference/api-parameters/attributesForFaceting/">attributesForFaceting</a> or the <a href="https://www.algolia.com/doc/api-reference/api-parameters/customRanking/">customRanking</a> to use new fields you added
through <code>transformData</code>.</p>
<p>Note that the usage of <code>transformSettings</code> requires some knowledge of the
<a href="https://www.algolia.com/doc/api-reference/settings-api-parameters/">Algolia Settings API parameters</a>.</p>
<h2 id="confighelper">ConfigHelper <a class="anchor" href="#confighelper" aria-hidden="true"></a></h2>
<p>Each call to <code>transformData</code> will take a <code>ConfigHelper</code> as a second parameter.
This helper is here to help reduce copy-pasting of boilerplate code when dealing
with the most common transformations. You don't have to use it, but it might
make your code much shorter if you do.</p>
<h3 id="helper.enrich">helper.enrich <a class="anchor" href="#helper.enrich" aria-hidden="true"></a></h3>
<p>This method will allow you to change the record in place by specifying patterns
of information.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> record = { 
  <span class="hljs-attr">video</span>: { 
    <span class="hljs-attr">title</span>: <span class="hljs-string">'John Doe - 2018'</span> 
  } 
};
record = helper.enrich(record, <span class="hljs-string">'video.title'</span>, <span class="hljs-string">'{speaker.name} - {conference.year}'</span>)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   video: {</span>
<span class="hljs-comment">//     title: 'John Doe - 2018'</span>
<span class="hljs-comment">//   },</span>
<span class="hljs-comment">//   speaker: {</span>
<span class="hljs-comment">//     name: 'John Doe'</span>
<span class="hljs-comment">//   },</span>
<span class="hljs-comment">//   conference: {</span>
<span class="hljs-comment">//     year: '2018'</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p>This will look for the key <code>video.title</code> inside the <code>record</code> object and try to
match it to the <code>{speaker.name} - {conference.year}</code> pattern. If it matches, it
will save each matched part to their own keys and return the result.</p>
<p>You can use the custom pattern <code>{_}</code> to match something, but not save it in the
final record.</p>
<h3 id="helper.trimkey">helper.trimKey <a class="anchor" href="#helper.trimkey" aria-hidden="true"></a></h3>
<p>This method will remove unneeded strings from a key of your record.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> record = { 
  <span class="hljs-attr">video</span>: { 
    <span class="hljs-attr">title</span>: 
      <span class="hljs-string">'AwesomeConf 2018: My talk title, in London'</span> 
    } 
  }
}
<span class="hljs-keyword">let</span> record = helper.trimKey(
  record, 
  <span class="hljs-string">'video.title'</span>, 
  <span class="hljs-string">'Awesome Conf 2018:'</span>, 
  <span class="hljs-string">', in London'</span>
);
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   video: {</span>
<span class="hljs-comment">//     title: 'My talk title'</span>
<span class="hljs-comment">//   },</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p>This will look for the specified key and recursively remove all the passed
strings and return the modified record. It will automatically trim the key of
all superfluous spaces.</p>
</div></div></div><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script>docsearch({
 apiKey: 'e3082526e1d5f37055241c335ab10f72',
 indexName: 'talksearch',
 inputSelector: '.custom-search-input',
 debug: false 
});</script></body><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-N8JP8G');</script></head></html>